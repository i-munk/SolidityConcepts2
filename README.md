# SolidityConcepts2: Vault & Bank Contracts

ì´ í”„ë¡œì íŠ¸ëŠ” Solidity ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ ì‹¤ìŠµì„ ìœ„í•œ ì˜ˆì œë¡œ, `Vault`ì™€ `Bank`ë¼ëŠ” ë‘ ê°œì˜ ê³„ì•½ì„ í†µí•´ Solidityì˜ ì£¼ìš” ê°œë…ì„ ì¢…í•©ì ìœ¼ë¡œ ë‹¤ë£¹ë‹ˆë‹¤.

---

## ğŸ” Vault Contract

`Vault`ëŠ” ì´ë” ì…ê¸ˆ, ë¸”ë¡ ì •ë³´ í™•ì¸, í˜¸ì¶œì ì •ë³´ ì¡°íšŒ, ê°€ìŠ¤ ì‚¬ìš©ëŸ‰ ì¸¡ì •, ë¬¸ìì—´ í•´ì‹œ ìƒì„± ë“±ì˜ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.

### âœ… ì£¼ìš” ê¸°ëŠ¥

| ê¸°ëŠ¥ | ì„¤ëª… |
|------|------|
| `owner` | ë°°í¬ì ì£¼ì†Œë¥¼ ì €ì¥í•˜ëŠ” ìƒíƒœ ë³€ìˆ˜ |
| `sentValue` | `deposit()` í•¨ìˆ˜ í˜¸ì¶œ ì‹œ ì „ì†¡ëœ ì´ë” ì–‘ ì €ì¥ |
| `timestamp` | `deposit()` í˜¸ì¶œ ì‹œì ì˜ ë¸”ë¡ ìƒì„± ì‹œê°„ |
| `gasUsed` | `trackGasUsage()` í˜¸ì¶œ ì‹œ ê³„ì‚°ëœ ê°€ìŠ¤ ì†Œë¹„ëŸ‰ |
| `deposit()` | ì´ë”ë¥¼ ì „ì†¡í•˜ë©° ê´€ë ¨ ì •ë³´ ì €ì¥, 0ì´í•˜ ì „ì†¡ ì‹œ ì˜ˆì™¸ ë°œìƒ |
| `getCaller()` | `msg.sender` ë°˜í™˜ |
| `getOrigin()` | `tx.origin` ë°˜í™˜ |
| `getBlockDetails()` | í˜„ì¬ ë¸”ë¡ ë²ˆí˜¸, ë‚œìˆ˜, ê°€ìŠ¤í•œë„, ì±„êµ´ì ì£¼ì†Œ ë°˜í™˜ |
| `trackGasUsage()` | `gasleft()` ì‚¬ìš©í•´ ê°€ìŠ¤ ì‚¬ìš©ëŸ‰ ì¸¡ì • |
| `generateHash(string)` | ì…ë ¥ ë¬¸ìì—´ì— ëŒ€í•œ keccak256 í•´ì‹œê°’ ë°˜í™˜ |

---

## ğŸ¦ Bank Contract

`Bank`ëŠ” `Vault`ë¥¼ ìƒì†í•˜ì—¬ ì…ê¸ˆëœ ê¸ˆì•¡ì— ëŒ€í•´ ì†Œìœ ìë§Œ ì¶œê¸ˆí•  ìˆ˜ ìˆë„ë¡ ì œì–´ ê¸°ëŠ¥ì„ í™•ì¥í•©ë‹ˆë‹¤.

### âœ… ì£¼ìš” ê¸°ëŠ¥

| ê¸°ëŠ¥ | ì„¤ëª… |
|------|------|
| `withdraw(uint256)` | ì†Œìœ ìë§Œ í˜¸ì¶œ ê°€ëŠ¥, `sentValue`ì—ì„œ ì°¨ê° í›„ ì´ë” ì „ì†¡ |
| `onlyOwner` | `owner`ë§Œ í•¨ìˆ˜ í˜¸ì¶œ ê°€ëŠ¥í•˜ë„ë¡ ì œí•œí•˜ëŠ” modifier |
| `Withdrawn` | ì¶œê¸ˆ ì‹œ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸ (`user`, `amount`) í¬í•¨ |

---

## ğŸ§ª í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ë°©ë²•

```bash
npm install
npx hardhat test
npx hardhat test test/Vault.test.ts
npx hardhat test test/Bank.test.ts
```

---

## ğŸ“ ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
contracts/
â”œâ”€â”€ Vault.sol
â””â”€â”€ Bank.sol
test/
â”œâ”€â”€ Vault.test.ts
â””â”€â”€ Bank.test.ts
README.md
```

---

ì´ í”„ë¡œì íŠ¸ëŠ” Solidityì—ì„œ ì‹¤ë¬´ì— í•„ìš”í•œ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ ì‘ì„± ëŠ¥ë ¥ì„ ê¸°ë¥´ê¸° ìœ„í•œ ì‹¤ìŠµ í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤. ìƒì†, ì ‘ê·¼ ì œì–´, ì˜ˆì™¸ ì²˜ë¦¬, ì´ë²¤íŠ¸, ë¸”ë¡ ì •ë³´ ë“± ê³ ê¸‰ ê°œë…ì„ í¬í•¨í•˜ê³  ìˆìŠµë‹ˆë‹¤.
